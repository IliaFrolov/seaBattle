<!DOCTYPE html>
<html>
<head>
    <title>Sea Battle</title>
    <meta charset="utf-8" />
</head>
<body>
    <h1>Enter coordinates</h1>
    <form action="/ajax" method="post" name="seaBattle">
        <label>X</label><br>
        <input type="number" name="x" /><br><br>
        <label>Y</label><br>
        <input type="number" name="y" /><br><br>
        <input type="submit" id ="submit" value="Shot" />
        <button type="button" id ="new">New game</button>
    </form>
    <script>
    document.getElementById("submit").addEventListener("click", function (e) {
      e.preventDefault();
     // получаем данные формы
     let seaBattleForm = document.forms["seaBattle"];
     let y = seaBattleForm.elements["y"].value;
     let x = seaBattleForm.elements["x"].value;
     // сериализуем данные в json
     let shot = JSON.stringify({y: y, x: x});
     let request = new XMLHttpRequest();
     // посылаем запрос на адрес "/user"
      request.open("POST", "/ajax", true);   
      request.setRequestHeader("Content-Type", "application/json");
      request.addEventListener("load", function () {
         // получаем и парсим ответ сервера
          let resivedBattleForm = JSON.parse(request.response);
          console.log(resivedBattleForm.y, "-", resivedBattleForm.x);   // смотрим ответ сервера
      });
      request.send(shot);
  });
//   document.getElementById("new").addEventListener("click", function (e) {
//    let request = new XMLHttpRequest();
//    request.send()
//   }
</script>
</body>
</html>
